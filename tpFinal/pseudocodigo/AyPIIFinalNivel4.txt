Nivel 4

Procedimiento mostrarMenuCalendario()
{que hace: muestra las opciones para el ABM de calendario
pre:-
pos:-
exp:-}

Inicio
	mostrar("Menu Calendario") {SD}
	mostrar("1-Agregar etapa de Mantenimiento") {SD}
	mostrar("2-Modificar etapa de Mantenimiento") {SD}
	mostrar("3-Quitar etapa de Mantenimiento") {SD}
	mostrar("4-Salir") {SD}
FinProcedimiento

Procedimiento agregarEtapa(E/S calendario:tipoListaCalendario)
{que hace: agrega una nueva eatapa al calenadrio de mantenimientos
pre: calendario=C y C puede estar vacio o tenes estapas
pos: calendario=C1 y C1 tiene una nueva estapa agregada
exp: -}
Var
	etapa:tipoClaveCalendario
	precio:tipoInfoCalendario

Inicio
	
	etapa<-enteroMayoraCero("Ingrese etapa de mantenimiento") {SD}
	precio<-enteroMayoraCero("Ingrese precio de mantenimiento") {SD}
	Inicio
		Insertar(calendario,etapa,precio) {ADT LO}
	Exepciones
		cuando claveExiste=> mostrar("Esa etapa de mantenimiento ya existe") {SD}
	Fin 
Exepciones
	cuando listaLlena=> mostrar("No se pudo agregar la etapa. Intente nuevamente mas tarde") {SD}
FinProcedimiento

Procedimiento modificarEtapa(E/S calendario:tipoListaCalendario)
{que hace: permite modificar las etapas de mantenimientos
pre: calendario=C y C tiene al menos una etapa
pos: calendario=C1 y C1 tiene una etapa modificada
exp: -}
Var
	opc:entero
	etapaVieja:tipoClaveCalendario
	precio:tipoInfoCalendario

Inicio
	Repetir
		etapaVieja<-enteroMayoraCero("Ingrese la etapa de mantenimiento que desea modificar (0 para salir)") {SD}
		Inicio
			recuclave(calendario,etapaVieja,precio){ADT LO}
			mostrarMenuModiCal(){nivel5}
			Segun (opc) Hacer
				1: etapaNueva<-enteroMayoraCero("Ingrese la nueva etapa de mantenimiento") {SD}
				2: precio<-enteroMayoraCero("Ingrese precio de mantenimiento") {SD}
			FinSegun
		Exepciones
			cuando claveNoExiste=> mostrar("No existe esa etapa que desea modificar") {SD}
		Fin 
	Hasta (etapaVieja=0) o (opc=3)
FinProcedimiento

Procedimiento quitarEtapa(E/S calendario:tipoListaCalendario)
{que hace: elimina una etpa del calendario de mantenimiento
pre: calendario=C y C tiene al menos una etapa valida
pos: calendario=C1 y C1 tiene una etapa menos o esta vacia
exp: -}
Var

Inicio
	etapa<-enteroMayoraCero("Ingrese etapa de mantenimiento que desea elimiar") {SD}
	Inicio
		recuclave(calendario,etapa,precio){ADT LO}
		suprimir(calendario,etapa){ADT LO}
	Exepciones
		cuando claveNoExiste=> mostrar("No existe esa etapa de mantenimiento") {SD}
	Fin
FinProcedimiento